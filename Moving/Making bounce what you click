// We store the animated element so we can stop the animation if needed
let bouncingElement = null;

document.body.addEventListener('click', (e) => {
  const el = e.target;

  // If you click on the same item while it's animating the animation stops
  if (bouncingElement === el) {
    el.style.animation = '';
    bouncingElement = null;
    return;
  }

  // If another element is bouncing, we stop its animation before starting a new one
  if (bouncingElement) {
    bouncingElement.style.animation = '';
  }

  // We start the infinite bounce animation on the clicked element
  el.style.animation = 'bounceLoop 0.6s ease-in-out infinite';
  bouncingElement = el;
});

// Add the CSS animation key to the document
const style = document.createElement('style');
style.id = 'bounceLoopStyles';
style.textContent = `
@keyframes bounceLoop {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-30px); }
}
`;
document.head.appendChild(style);
