const confettiRain = () => {
  const colors = ['#f94144', '#f3722c', '#f9c74f', '#90be6d', '#43aa8b', '#577590'];
  const confettiContainer = document.createElement('div');
  confettiContainer.style.position = 'fixed';
  confettiContainer.style.top = 0;
  confettiContainer.style.left = 0;
  confettiContainer.style.width = '100%';
  confettiContainer.style.height = '100%';
  confettiContainer.style.pointerEvents = 'none';
  confettiContainer.style.zIndex = 999999;
  document.body.appendChild(confettiContainer);

  function createConfetti() {
    const confetti = document.createElement('div');
    const size = Math.random() * 8 + 4 + 'px';
    confetti.style.width = size;
    confetti.style.height = size;
    confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
    confetti.style.position = 'absolute';
    confetti.style.top = '-20px';
    confetti.style.left = Math.random() * window.innerWidth + 'px';
    confetti.style.opacity = Math.random() * 0.8 + 0.2;
    confetti.style.borderRadius = Math.random() > 0.5 ? '50%' : '0%';
    confetti.style.transform = `rotate(${Math.random() * 360}deg)`;
    confetti.style.transition = `top 3s linear, transform 3s ease-in-out`;
    confettiContainer.appendChild(confetti);

    // Trigger the drop
    setTimeout(() => {
      confetti.style.top = window.innerHeight + 'px';
      confetti.style.transform += ` rotate(${Math.random() * 360}deg)`;
    }, 50);

    // Cleaning after lol
    setTimeout(() => {
      confetti.remove();
    }, 3500);
  }

  const confettiInterval = setInterval(createConfetti, 100);

  window.__confettiInterval = confettiInterval;
  window.__confettiContainer = confettiContainer;
};

confettiRain();
